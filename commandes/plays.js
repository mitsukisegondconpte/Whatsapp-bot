const a23_0x554b86=a23_0x4320;(function(_0x47b2de,_0xdc406){const _0x3f8167=a23_0x4320,_0x3ce724=_0x47b2de();while(!![]){try{const _0x748244=-parseInt(_0x3f8167(0x1a9))/0x1+-parseInt(_0x3f8167(0x201))/0x2*(-parseInt(_0x3f8167(0x1ff))/0x3)+-parseInt(_0x3f8167(0x200))/0x4+-parseInt(_0x3f8167(0x1d0))/0x5*(parseInt(_0x3f8167(0x1d7))/0x6)+-parseInt(_0x3f8167(0x1a7))/0x7+-parseInt(_0x3f8167(0x1cc))/0x8+-parseInt(_0x3f8167(0x1f8))/0x9*(-parseInt(_0x3f8167(0x202))/0xa);if(_0x748244===_0xdc406)break;else _0x3ce724['push'](_0x3ce724['shift']());}catch(_0x3c004e){_0x3ce724['push'](_0x3ce724['shift']());}}}(a23_0x2d9b,0x42d1e));import a23_0x27bd93 from'yt-search';import a23_0x4c80ae from'node-fetch';import{send_reaction_message,send_text_message}from'../utils/sendmessagewa.js';function a23_0x4320(_0x59bf65,_0x385dbc){const _0x2d9b2e=a23_0x2d9b();return a23_0x4320=function(_0x432011,_0x5176e4){_0x432011=_0x432011-0x19e;let _0x4a142c=_0x2d9b2e[_0x432011];return _0x4a142c;},a23_0x4320(_0x59bf65,_0x385dbc);}const API_BASE_URL=a23_0x554b86(0x1fa),DEFAULT_TIMEOUT=0xea60,MAX_TITLE_LENGTH=0x32,MAX_RESULTS=0x5;export async function sendYtMusic(_0x24d2cb,_0x2afb9c,_0xf43275,_0x969516){const _0x1819ed=a23_0x554b86,_0x1c305b={'WYyBb':function(_0x22db4b,_0x3d46b9,_0x3038e9,_0x2d2326,_0x1e697a){return _0x22db4b(_0x3d46b9,_0x3038e9,_0x2d2326,_0x1e697a);},'Ycews':function(_0x435436,_0x539347){return _0x435436>_0x539347;},'lYhto':function(_0x1ee97b,_0x41c5af,_0x4af7bb,_0x54ae89,_0x3e0fe5){return _0x1ee97b(_0x41c5af,_0x4af7bb,_0x54ae89,_0x3e0fe5);},'asdUf':function(_0x4e1035,_0x547f05,_0x416742,_0x5425db,_0x451c43){return _0x4e1035(_0x547f05,_0x416742,_0x5425db,_0x451c43);},'YtmhO':function(_0x106812,_0x4d8078){return _0x106812(_0x4d8078);},'LMHRi':_0x1819ed(0x1a3),'gwNfA':'‚ùå\x20Annuler','yQiSh':function(_0x1de4c3,_0x34c804,_0x21ae56,_0x3cb863){return _0x1de4c3(_0x34c804,_0x21ae56,_0x3cb863);},'kDkhv':_0x1819ed(0x1c1),'disvP':function(_0x4ca52a,_0x2abe4b,_0x1a4b08,_0x24aab2,_0x17f31e){return _0x4ca52a(_0x2abe4b,_0x1a4b08,_0x24aab2,_0x17f31e);},'JunOa':function(_0x49c18f,_0x31e2a3){return _0x49c18f===_0x31e2a3;},'vKohW':_0x1819ed(0x1bf),'DQlVx':'mp4','XIAyw':'mp3','ybAns':function(_0x1f7e85,_0x5185ff,_0x4d6daa){return _0x1f7e85(_0x5185ff,_0x4d6daa);},'TlVnj':_0x1819ed(0x1e8),'CzlWu':function(_0x9753af,_0x4fcb5e,_0x397ca0,_0x31d414,_0x3a9fcf){return _0x9753af(_0x4fcb5e,_0x397ca0,_0x31d414,_0x3a9fcf);},'CKUXc':function(_0x25b559,_0x255d88,_0x571f36,_0x5e111f){return _0x25b559(_0x255d88,_0x571f36,_0x5e111f);}},{key:_0x5a423d}=_0x2afb9c,_0x5f0ba2=_0x5a423d[_0x1819ed(0x1fb)];try{if(!_0xf43275[_0x1819ed(0x1f3)])return await _0x1c305b[_0x1819ed(0x1a6)](send_text_message,_0x24d2cb,_0x2afb9c,'‚ùå\x20Veuillez\x20fournir\x20un\x20titre\x20de\x20vid√©o.',_0x5f0ba2);const _0x3632c7=_0xf43275[_0x1819ed(0x1e7)]('\x20')[_0x1819ed(0x1e0)]();if(_0x1c305b['Ycews'](_0x3632c7[_0x1819ed(0x1f3)],MAX_TITLE_LENGTH))return await _0x1c305b[_0x1819ed(0x205)](send_text_message,_0x24d2cb,_0x2afb9c,'‚ùå\x20Titre\x20trop\x20long\x20(max\x20'+MAX_TITLE_LENGTH+_0x1819ed(0x1e2),_0x5f0ba2);await _0x1c305b[_0x1819ed(0x1a5)](send_reaction_message,_0x24d2cb,_0x2afb9c,_0x5f0ba2,'üîç');const _0x1eb460=await _0x1c305b[_0x1819ed(0x1ed)](a23_0x27bd93,_0x3632c7),_0x1f54d2=_0x1eb460['videos']['slice'](0x0,MAX_RESULTS);if(!_0x1f54d2[_0x1819ed(0x1f3)])return await _0x1c305b['asdUf'](send_text_message,_0x24d2cb,_0x2afb9c,_0x1819ed(0x1c8),_0x5f0ba2);const _0x2f5b06=_0x1f54d2[_0x1819ed(0x1e3)]((_0x4ebdb9,_0x11523a)=>({'buttonId':_0x1819ed(0x1fd)+_0x11523a,'buttonText':{'displayText':_0x11523a+0x1+'.\x20'+formatTitle(_0x4ebdb9['title'],0x14)},'type':0x1}));_0x2f5b06[_0x1819ed(0x1f0)]({'buttonId':_0x1c305b[_0x1819ed(0x1ee)],'buttonText':{'displayText':_0x1c305b['gwNfA']},'type':0x1}),await _0x24d2cb[_0x1819ed(0x1a0)](_0x5f0ba2,{'text':'üéµ\x20R√©sultats\x20pour:\x20'+_0x3632c7+_0x1819ed(0x1d5),'footer':'YouTube\x20Downloader','buttons':_0x2f5b06,'headerType':0x1});const _0x254f0e=await _0x1c305b[_0x1819ed(0x1a1)](waitForUserChoice,_0x24d2cb,_0x5f0ba2,_0x1f54d2);if(!_0x254f0e)return await _0x1c305b[_0x1819ed(0x1a5)](send_text_message,_0x24d2cb,_0x2afb9c,_0x1c305b[_0x1819ed(0x1b3)],_0x5f0ba2);await _0x1c305b[_0x1819ed(0x1fc)](send_reaction_message,_0x24d2cb,_0x2afb9c,_0x5f0ba2,'üì•');const _0xdc335d=_0x1c305b['JunOa'](_0x969516,_0x1c305b['vKohW'])?_0x1c305b[_0x1819ed(0x1da)]:_0x1c305b[_0x1819ed(0x206)],_0x11fe7f=API_BASE_URL+'/'+_0xdc335d+_0x1819ed(0x1b4)+_0x254f0e[_0x1819ed(0x1f6)],_0x5333d4=await _0x1c305b[_0x1819ed(0x1b1)](fetchMediaData,_0x11fe7f,_0x969516);if(!_0x5333d4?.[_0x1819ed(0x1a2)]?.['url'])return console['error'](_0x1c305b[_0x1819ed(0x1c5)],_0x5333d4),await _0x1c305b['CzlWu'](send_text_message,_0x24d2cb,_0x2afb9c,_0x1819ed(0x1cf),_0x5f0ba2);const _0x2a5298=_0x5333d4[_0x1819ed(0x1a2)][_0x1819ed(0x1af)]||_0x5333d4[_0x1819ed(0x1a2)]['image'],_0x37241b=await _0x1c305b[_0x1819ed(0x1ed)](fetchThumbnail,_0x2a5298);await _0x1c305b[_0x1819ed(0x1a1)](sendMediaMessage,_0x24d2cb,_0x5f0ba2,{'type':_0x969516,'mediaUrl':_0x5333d4[_0x1819ed(0x1a2)][_0x1819ed(0x1f6)],'title':_0x5333d4[_0x1819ed(0x1a2)]['title'],'thumbnail':_0x37241b,'videoUrl':_0x254f0e[_0x1819ed(0x1f6)]});}catch(_0x3c2925){console[_0x1819ed(0x1ad)](_0x1819ed(0x1b8),_0x3c2925),await _0x1c305b[_0x1819ed(0x1d2)](handleError,_0x24d2cb,_0x2afb9c,_0x5f0ba2);}}async function fetchMediaData(_0x5a97a5,_0x2b28a7){const _0x12af64=a23_0x554b86,_0x612316={'hWUdX':function(_0x4b5b98,_0x1e9cef,_0x2a59da){return _0x4b5b98(_0x1e9cef,_0x2a59da);},'nkzDJ':_0x12af64(0x1f9),'xeaIw':_0x12af64(0x19f),'Nfedk':function(_0x43f0f3,_0x286ddf){return _0x43f0f3===_0x286ddf;},'afMWK':_0x12af64(0x1e6),'aDVwh':_0x12af64(0x1d8)},_0x43b28b=new AbortController(),_0x311856=_0x612316[_0x12af64(0x1d9)](setTimeout,()=>_0x43b28b[_0x12af64(0x1be)](),0x186a0);try{console[_0x12af64(0x1c9)](_0x12af64(0x1c7)+_0x5a97a5);const _0x581ed8=await a23_0x4c80ae(_0x5a97a5,{'signal':_0x43b28b['signal']});if(!_0x581ed8['ok'])throw new Error(_0x12af64(0x1f7)+_0x581ed8[_0x12af64(0x1bd)]);const _0x13fb50=await _0x581ed8[_0x12af64(0x203)]();console['log'](_0x612316[_0x12af64(0x1ae)],JSON['stringify'](_0x13fb50,null,0x2));if(_0x2b28a7===_0x612316['xeaIw']){if(!(_0x612316[_0x12af64(0x1dd)](_0x13fb50['status'],0xc8)&&_0x13fb50[_0x12af64(0x1a4)]&&_0x13fb50[_0x12af64(0x1a2)]?.[_0x12af64(0x1bb)]))throw new Error(_0x612316[_0x12af64(0x1f1)]);return{'creator':_0x13fb50[_0x12af64(0x19e)],'status':_0x13fb50[_0x12af64(0x1bd)],'result':{'id':_0x13fb50['result']['id'],'title':_0x13fb50[_0x12af64(0x1a2)][_0x12af64(0x1db)],'image':_0x13fb50[_0x12af64(0x1a2)][_0x12af64(0x1cd)],'url':_0x13fb50[_0x12af64(0x1a2)]['downloadUrl']}};}else{if(!(_0x13fb50[_0x12af64(0x1bd)]===!![]&&_0x13fb50['result']?.[_0x12af64(0x1f6)]))throw new Error('Invalid\x20video\x20response\x20format');return{'creator':_0x13fb50[_0x12af64(0x19e)],'status':_0x13fb50[_0x12af64(0x1bd)],'result':{'title':_0x13fb50[_0x12af64(0x1a2)]['title'],'thumbnail':_0x13fb50[_0x12af64(0x1a2)]['thumbnail'],'url':_0x13fb50[_0x12af64(0x1a2)]['url']}};}}catch(_0x595ce2){return console[_0x12af64(0x1ad)](_0x612316[_0x12af64(0x1ac)],{'url':_0x5a97a5,'error':_0x595ce2[_0x12af64(0x1b2)],'stack':_0x595ce2[_0x12af64(0x1a8)]}),null;}finally{clearTimeout(_0x311856);}}async function sendMediaMessage(_0x5312cc,_0x22e2ae,{type:_0x533e57,mediaUrl:_0x2ea7b6,title:_0x8df4bb,thumbnail:_0x13510f,videoUrl:_0x38e3c1}){const _0x3fd8cc=a23_0x554b86,_0x31dd38={'gJSNU':'video','eUmNx':_0x3fd8cc(0x204),'bYpyy':function(_0x71ee52,_0x4189f2,_0x448950){return _0x71ee52(_0x4189f2,_0x448950);},'RvssO':'T√©l√©charg√©\x20via\x20YouTube','vYfge':function(_0x27175d,_0xcc9b03){return _0x27175d===_0xcc9b03;},'lCxbR':function(_0x27d689,_0x180952){return _0x27d689===_0x180952;},'OorGp':_0x3fd8cc(0x19f)},_0x2af171={[_0x533e57]:{'url':_0x2ea7b6},'mimetype':_0x533e57===_0x31dd38['gJSNU']?_0x31dd38[_0x3fd8cc(0x1e1)]:_0x3fd8cc(0x1b6),'caption':_0x8df4bb,'contextInfo':{'externalAdReply':{'title':_0x31dd38[_0x3fd8cc(0x1c0)](formatTitle,_0x8df4bb,0x3c),'body':_0x31dd38[_0x3fd8cc(0x1ea)],'thumbnail':_0x13510f,'mediaType':_0x31dd38[_0x3fd8cc(0x1ca)](_0x533e57,_0x31dd38[_0x3fd8cc(0x1d4)])?0x2:0x1,'mediaUrl':_0x38e3c1,'sourceUrl':_0x38e3c1}}};_0x31dd38['lCxbR'](_0x533e57,_0x31dd38[_0x3fd8cc(0x1e9)])&&(_0x2af171['ptt']=![]),await _0x5312cc[_0x3fd8cc(0x1a0)](_0x22e2ae,_0x2af171);}function formatTitle(_0x276adf,_0x4cb8f0){const _0x3748b4=a23_0x554b86,_0x389c30={'GzZAW':function(_0x235836,_0xba334e){return _0x235836-_0xba334e;}};return _0x276adf[_0x3748b4(0x1f3)]>_0x4cb8f0?_0x276adf[_0x3748b4(0x1ce)](0x0,_0x389c30[_0x3748b4(0x1ab)](_0x4cb8f0,0x3))+_0x3748b4(0x1eb):_0x276adf;}async function fetchThumbnail(_0x20a604){const _0x17ad03=a23_0x554b86,_0xbc2600={'eeeom':function(_0x925c85,_0x41ec9e){return _0x925c85(_0x41ec9e);},'hZwlV':_0x17ad03(0x1d3)};try{const _0x2278a2=await _0xbc2600['eeeom'](a23_0x4c80ae,_0x20a604);return Buffer[_0x17ad03(0x1cb)](await _0x2278a2[_0x17ad03(0x1bc)]());}catch(_0x41c991){return console[_0x17ad03(0x1ad)](_0xbc2600[_0x17ad03(0x1f5)],_0x41c991),null;}}function a23_0x2d9b(){const _0x2a4440=['Error\x20fetching\x20thumbnail:','gJSNU','\x0aChoisissez\x20une\x20vid√©o:','off','2751960CGWlnm','Error\x20in\x20fetchMediaData:','hWUdX','DQlVx','title','nTOCn','Nfedk','vohwl','hJtZI','trim','eUmNx','\x20caract√®res).','map','POFpG','ASvxU','Invalid\x20audio\x20response\x20format','join','Invalid\x20media\x20data:','OorGp','RvssO','...','wyboU','YtmhO','LMHRi','key','push','afMWK','messages','length','buttonsResponseMessage','hZwlV','url','API\x20request\x20failed\x20with\x20status\x20','4167wqZFvT','API\x20response:','https://apis.davidcyriltech.my.id/youtube','remoteJid','disvP','song_','utmqF','3eibXOV','623692Nloraj','492438YlsIUN','23170jQiMCF','json','video/mp4','lYhto','XIAyw','creator','audio','sendMessage','yQiSh','result','cancel','success','asdUf','WYyBb','501032TvRNsL','stack','125233skTQKf','lafjc','GzZAW','aDVwh','error','nkzDJ','thumbnail','‚ùå\x20Une\x20erreur\x20est\x20survenue.','ybAns','message','kDkhv','?url=','wtHeS','audio/mpeg','toLowerCase','Error\x20in\x20sendYtMusic:','messages.upsert','yyUiZ','downloadUrl','arrayBuffer','status','abort','video','bYpyy','>\x20‚ùå\x20Annulation\x20de\x20la\x20recherche\x20ou\x20temps\x20d\x27attente\x20expir√©.','MAhNS','Ixats','match','TlVnj','NCXRE','Fetching\x20API:\x20','‚ùå\x20Aucune\x20vid√©o\x20trouv√©e.','log','vYfge','from','1871232hkuFbJ','image','substring','>\x20‚ö†Ô∏è\x20contenu\x20introuvable,\x20veuillez\x20essayer\x20de\x20nouveau\x20plutard\x20','5jZsGFg','FvDnO','CKUXc'];a23_0x2d9b=function(){return _0x2a4440;};return a23_0x2d9b();}async function handleError(_0x4410a9,_0x4e4e26,_0x152338){const _0x3670d3=a23_0x554b86,_0x107578={'wtHeS':function(_0x1ce0b6,_0x21c1af,_0x2189c1,_0x5299dc,_0xf395c2){return _0x1ce0b6(_0x21c1af,_0x2189c1,_0x5299dc,_0xf395c2);},'Ixats':_0x3670d3(0x1b0)};await _0x107578['wtHeS'](send_text_message,_0x4410a9,_0x4e4e26,_0x107578[_0x3670d3(0x1c3)],_0x152338),await _0x107578[_0x3670d3(0x1b5)](send_reaction_message,_0x4410a9,_0x4e4e26,_0x152338,'‚ùå');}async function waitForUserChoice(_0x206b42,_0x3cae9d,_0x364327){const _0x24dca2=a23_0x554b86,_0x9533c7={'POFpG':function(_0x58f945,_0x4e4474){return _0x58f945===_0x4e4474;},'FvDnO':_0x24dca2(0x1a3),'lafjc':function(_0x1e1871){return _0x1e1871();},'hJtZI':function(_0x347363,_0x17a616){return _0x347363<_0x17a616;},'vohwl':_0x24dca2(0x1b9),'oPbty':function(_0x49172a,_0x2d47d0){return _0x49172a(_0x2d47d0);},'nTOCn':function(_0x40a9c6,_0x28f330,_0x5de01c){return _0x40a9c6(_0x28f330,_0x5de01c);}};return new Promise(_0x119171=>{const _0x57a6a4=_0x24dca2,_0xaf11c2={'NCXRE':_0x9533c7[_0x57a6a4(0x1de)],'rHJCa':function(_0x4e6f97,_0x491ae9){return _0x9533c7['oPbty'](_0x4e6f97,_0x491ae9);}},_0x41ce8d=async _0x1d5c6a=>{const _0x39109c=_0x57a6a4;for(const _0x32e25e of _0x1d5c6a[_0x39109c(0x1f2)]){if(_0x9533c7[_0x39109c(0x1e4)](_0x32e25e[_0x39109c(0x1ef)][_0x39109c(0x1fb)],_0x3cae9d)){const _0x8c0a5a=getChoiceFromMessage(_0x32e25e);if(_0x9533c7[_0x39109c(0x1e4)](_0x8c0a5a,_0x9533c7[_0x39109c(0x1d1)])){_0x9533c7['lafjc'](_0x4dcca2),_0x119171(null);return;}if(_0x8c0a5a>=0x0&&_0x9533c7[_0x39109c(0x1df)](_0x8c0a5a,_0x364327[_0x39109c(0x1f3)])){_0x9533c7['lafjc'](_0x4dcca2),_0x119171(_0x364327[_0x8c0a5a]);return;}}}},_0x4dcca2=()=>{const _0x4a691b=_0x57a6a4;_0x206b42['ev'][_0x4a691b(0x1d6)](_0xaf11c2[_0x4a691b(0x1c6)],_0x41ce8d),_0xaf11c2['rHJCa'](clearTimeout,_0x5cdbe2);},_0x5cdbe2=_0x9533c7[_0x57a6a4(0x1dc)](setTimeout,()=>{const _0x10ceac=_0x57a6a4;_0x9533c7[_0x10ceac(0x1aa)](_0x4dcca2),_0x119171(null);},DEFAULT_TIMEOUT);_0x206b42['ev']['on'](_0x9533c7[_0x57a6a4(0x1de)],_0x41ce8d);});}function getChoiceFromMessage(_0x1ce7d3){const _0x5bfbe5=a23_0x554b86,_0x5c52ac={'wyboU':function(_0x424f06,_0x47927b){return _0x424f06===_0x47927b;},'yyUiZ':'cancel','utmqF':function(_0xcfa730,_0x48577b){return _0xcfa730(_0x48577b);},'MAhNS':function(_0x452555,_0xb1b63c){return _0x452555===_0xb1b63c;},'ASvxU':function(_0x5a172e,_0x58ef82){return _0x5a172e-_0x58ef82;}};if(_0x1ce7d3[_0x5bfbe5(0x1b2)]?.[_0x5bfbe5(0x1f4)]){const _0x10a9e1=_0x1ce7d3[_0x5bfbe5(0x1b2)][_0x5bfbe5(0x1f4)]['selectedButtonId'];if(_0x5c52ac[_0x5bfbe5(0x1ec)](_0x10a9e1,_0x5c52ac[_0x5bfbe5(0x1ba)]))return _0x5c52ac[_0x5bfbe5(0x1ba)];const _0x3cc281=_0x10a9e1[_0x5bfbe5(0x1c4)](/song_(\d+)/);return _0x3cc281?_0x5c52ac[_0x5bfbe5(0x1fe)](parseInt,_0x3cc281[0x1]):-0x1;}if(_0x1ce7d3[_0x5bfbe5(0x1b2)]?.['conversation']){const _0x5e02da=_0x1ce7d3[_0x5bfbe5(0x1b2)]['conversation'][_0x5bfbe5(0x1b7)]();if(_0x5c52ac[_0x5bfbe5(0x1c2)](_0x5e02da,'annuler')||_0x5c52ac[_0x5bfbe5(0x1c2)](_0x5e02da,'cancel'))return _0x5c52ac[_0x5bfbe5(0x1ba)];const _0x8a6aad=_0x5c52ac['utmqF'](parseInt,_0x5e02da);return _0x5c52ac[_0x5bfbe5(0x1fe)](isNaN,_0x8a6aad)?-0x1:_0x5c52ac[_0x5bfbe5(0x1e5)](_0x8a6aad,0x1);}return-0x1;}