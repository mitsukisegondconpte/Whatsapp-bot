const a1_0x2eecf6=a1_0x38ed;(function(_0x2bfddd,_0x32f21a){const _0x2530fc=a1_0x38ed,_0x1ba3d5=_0x2bfddd();while(!![]){try{const _0x142317=parseInt(_0x2530fc(0x16d))/0x1*(-parseInt(_0x2530fc(0x15f))/0x2)+-parseInt(_0x2530fc(0x15a))/0x3+-parseInt(_0x2530fc(0x129))/0x4+-parseInt(_0x2530fc(0x128))/0x5+parseInt(_0x2530fc(0x11e))/0x6+-parseInt(_0x2530fc(0x132))/0x7*(parseInt(_0x2530fc(0x13c))/0x8)+parseInt(_0x2530fc(0x123))/0x9*(parseInt(_0x2530fc(0x16c))/0xa);if(_0x142317===_0x32f21a)break;else _0x1ba3d5['push'](_0x1ba3d5['shift']());}catch(_0xddaa0){_0x1ba3d5['push'](_0x1ba3d5['shift']());}}}(a1_0x5397,0x1966d));import a1_0x55e222 from'fs/promises';import a1_0x34881c from'path';import{fileURLToPath}from'url';function a1_0x5397(){const _0x22f39c=['access','QvEPM','nNgyL','catch','dnjwz','sRkvK','whitelist','caption','910MeTAYt','maxTentatives','now','readFile','>\x20⚠️\x20Commande\x20réservée\x20aux\x20groupes','wMloe','DFpQb','remove','writeFile','imageMessage','2728NCFQhn','push','AdfMP','message','stringify','expulser','conversation','join','AhPah','xgCUN','>\x20⛓\x20AntiLink\x20activé\x0a','reactionMessage','SrVmd','videoMessage','key','LTxCh','count','BYpWo','3|1|0|2|4','>\x20ℹ️\x20Déjà\x20activé','USjsh','toLowerCase','>\x20⛓\x20AntiLink\x20désactivé','4|3|0|1|2','participant','luVfv','Reqqw',',\x20liens\x20interdits\x20détectés\x20!\x20(','SiVOn','@g.us','505596DJqgYZ','utf-8','text','kweMt','TZxgA','53902tFxHae','ydlHZ','TfLkp','dgohx','[AntiLink]\x20Erreur:','avertir','>\x20⚠️\x20@','lastAttempt','url','keys','▸\x20Expulsion:\x20','some','▸\x20Whitelist:\x20','1323890JjiZOH','1MkMpew','>\x20⚠️\x20Admin\x20requis','JyBkl','\x22\x20whitelisté','YUcIo','groupParticipantsUpdate','map','groupesActives','dirname','tentatives','xKLLZ','supprimerMessage','endsWith','Aucun\x20groupe','aNUFd','JyuXy','HBjcj','QMyic','MZsOf','ItYBn','AvnlK','includes','soujm','json/antilink.json','extendedTextMessage','jOyON','pAvIm','length','parametresGlobaux','xBrwF','>\x20❌\x20@','match','568284vokphI','protocolMessage','split','FzlrV','>\x20✅\x20\x22','27FKXKjk','JrAqx','Admin\x20détecté\x20-\x20Ignoré','>\x20ℹ️\x20\x22','yRiqt','116515SOmByH','498880cObpOq'];a1_0x5397=function(){return _0x22f39c;};return a1_0x5397();}import{delete_message,send_text_message,send_reaction_message}from'../utils/sendmessagewa.js';import{isAdmin}from'../utils/gestion_groupe.js';import{log}from'console';const __dirname=a1_0x34881c[a1_0x2eecf6(0x175)](fileURLToPath(import.meta[a1_0x2eecf6(0x167)])),ANTILINK_FILE=a1_0x34881c[a1_0x2eecf6(0x143)](__dirname,a1_0x2eecf6(0x115)),defaultConfig={'groupesActives':{},'parametresGlobaux':{'supprimerMessage':!![],'avertir':!![],'expulser':!![],'maxTentatives':0x3},'whitelist':[],'tentatives':{}};let config={...defaultConfig};async function chargerConfig(){const _0x49fe14=a1_0x2eecf6,_0x49803d={'ydlHZ':_0x49fe14(0x15b),'TfLkp':function(_0x1ca544,_0x5f662d){return _0x1ca544-_0x5f662d;},'aNUFd':function(_0x194763,_0x2b7743){return _0x194763!==_0x2b7743;},'FzlrV':'[AntiLink]\x20Erreur\x20chargement\x20config:'};try{await a1_0x55e222['mkdir'](a1_0x34881c[_0x49fe14(0x175)](ANTILINK_FILE),{'recursive':!![]}),await a1_0x55e222[_0x49fe14(0x12a)](ANTILINK_FILE);const _0x5c40a9=await a1_0x55e222[_0x49fe14(0x135)](ANTILINK_FILE,_0x49803d[_0x49fe14(0x160)]),_0x338f2c=JSON['parse'](_0x5c40a9),_0x11e122=Date[_0x49fe14(0x134)]();for(const _0x36bce6 in _0x338f2c[_0x49fe14(0x176)]){_0x49803d[_0x49fe14(0x161)](_0x11e122,_0x338f2c[_0x49fe14(0x176)][_0x36bce6][_0x49fe14(0x166)])>0x5265c00&&delete _0x338f2c['tentatives'][_0x36bce6];}return{...defaultConfig,..._0x338f2c};}catch(_0x3e863f){return _0x49803d[_0x49fe14(0x17b)](_0x3e863f['code'],'ENOENT')&&console['error'](_0x49803d[_0x49fe14(0x121)],_0x3e863f),{...defaultConfig};}}async function sauvegarderConfig(){const _0x3ec331=a1_0x2eecf6,_0x5b419d={'DFpQb':_0x3ec331(0x15b),'yRiqt':'[AntiLink]\x20Erreur\x20sauvegarde\x20config:'};try{await a1_0x55e222[_0x3ec331(0x13a)](ANTILINK_FILE,JSON[_0x3ec331(0x140)](config,null,0x2),_0x5b419d[_0x3ec331(0x138)]);}catch(_0x39d392){console['error'](_0x5b419d[_0x3ec331(0x127)],_0x39d392);}}function a1_0x38ed(_0x236515,_0x5e194d){const _0x539716=a1_0x5397();return a1_0x38ed=function(_0x38edf8,_0x4c1b5b){_0x38edf8=_0x38edf8-0x110;let _0x1fd560=_0x539716[_0x38edf8];return _0x1fd560;},a1_0x38ed(_0x236515,_0x5e194d);}((async()=>{const _0x4ce7a2=a1_0x2eecf6,_0x42799f={'SrVmd':function(_0x2f95de){return _0x2f95de();}};config=await _0x42799f[_0x4ce7a2(0x148)](chargerConfig);})());async function enregistrerTentative(_0x2c63a5,_0x281912){const _0x406b61=a1_0x2eecf6,_0x588edb={'sCiYW':function(_0x53d24e){return _0x53d24e();}},_0x463d23=_0x2c63a5+':'+_0x281912,_0x2b35a3=Date[_0x406b61(0x134)]();return config[_0x406b61(0x176)][_0x463d23]={'count':(config[_0x406b61(0x176)][_0x463d23]?.[_0x406b61(0x14c)]||0x0)+0x1,'lastAttempt':_0x2b35a3},await _0x588edb['sCiYW'](sauvegarderConfig),config[_0x406b61(0x176)][_0x463d23][_0x406b61(0x14c)];}async function resetTentatives(_0x19a58f,_0x2599c4){const _0x469073=a1_0x2eecf6,_0x517a1c={'BYpWo':function(_0x1a4ddf){return _0x1a4ddf();}},_0xb0e5a6=_0x19a58f+':'+_0x2599c4;config[_0x469073(0x176)][_0xb0e5a6]&&(delete config[_0x469073(0x176)][_0xb0e5a6],await _0x517a1c[_0x469073(0x14d)](sauvegarderConfig));}function detecterLiens(_0x375df0){const _0x34e028=a1_0x2eecf6,_0x397143=/(https?:\/\/|www\.)[^\s]+[\w]/gi;return _0x375df0?.[_0x34e028(0x11d)](_0x397143)||[];}function filtrerLiensInterdits(_0x15d18d,_0x17b3c5){const _0x15ab20=a1_0x2eecf6;return _0x15d18d['filter'](_0x657883=>!_0x17b3c5[_0x15ab20(0x16a)](_0xcede64=>_0x657883[_0x15ab20(0x151)]()['includes'](_0xcede64[_0x15ab20(0x151)]())));}export function creerAntiLinkBaileys(_0x46b09f,_0x3a1519,_0x4edc5b){const _0x3cda70=a1_0x2eecf6,_0x410600={'USjsh':_0x3cda70(0x159),'mJhxb':function(_0x345a5b,_0x51ffb1,_0x161442,_0x27e3e6){return _0x345a5b(_0x51ffb1,_0x161442,_0x27e3e6);},'HBjcj':function(_0x1bedc1,_0xd9ede3,_0x5ea4c2){return _0x1bedc1(_0xd9ede3,_0x5ea4c2);},'xKLLZ':_0x3cda70(0x125),'ItYBn':function(_0x1a4a7b,_0x32a549){return _0x1a4a7b(_0x32a549);},'YUcIo':function(_0x262f88,_0x4eac31){return _0x262f88===_0x4eac31;},'MZsOf':function(_0x4e5e02,_0x5daa03){return _0x4e5e02===_0x5daa03;},'QMyic':function(_0x1857f3,_0x5db251){return _0x1857f3!==_0x5db251;},'dgohx':function(_0x386bff,_0x494b49,_0x4d457e,_0x4d651d,_0x50dbc7,_0x3e4673,_0x214c1f,_0x2baf73,_0x3f457d){return _0x386bff(_0x494b49,_0x4d457e,_0x4d651d,_0x50dbc7,_0x3e4673,_0x214c1f,_0x2baf73,_0x3f457d);},'dnjwz':function(_0x3d6218,_0xeb17ed){return _0x3d6218>=_0xeb17ed;},'JyuXy':_0x3cda70(0x139),'xBrwF':function(_0x5561e1,_0x5dcc08,_0x110942){return _0x5561e1(_0x5dcc08,_0x110942);},'vwUzh':_0x3cda70(0x163)};return async()=>{const _0x4b8f6f=_0x3cda70;try{if(!_0x3a1519[_0x4b8f6f(0x13f)]||!_0x4edc5b[_0x4b8f6f(0x179)](_0x410600[_0x4b8f6f(0x150)]))return;if(_0x3a1519[_0x4b8f6f(0x13f)][_0x4b8f6f(0x11f)]||_0x3a1519['message'][_0x4b8f6f(0x147)])return;const _0x392c8b=config[_0x4b8f6f(0x174)][_0x4edc5b];if(!_0x392c8b)return;const _0x3de23a=_0x3a1519[_0x4b8f6f(0x14a)][_0x4b8f6f(0x154)];if(!_0x3de23a||await _0x410600['mJhxb'](isAdmin,_0x46b09f,_0x4edc5b,_0x3de23a))return _0x410600['HBjcj'](log,_0x410600[_0x4b8f6f(0x177)],{'senderId':_0x3de23a});const _0x40ea62=_0x3a1519['message'][_0x4b8f6f(0x142)]||_0x3a1519['message'][_0x4b8f6f(0x116)]?.[_0x4b8f6f(0x15c)]||_0x3a1519['message'][_0x4b8f6f(0x13b)]?.[_0x4b8f6f(0x131)]||_0x3a1519[_0x4b8f6f(0x13f)][_0x4b8f6f(0x149)]?.[_0x4b8f6f(0x131)]||_0x3a1519[_0x4b8f6f(0x13f)]['documentMessage']?.['caption'],_0x6a9ae9=_0x410600[_0x4b8f6f(0x111)](detecterLiens,_0x40ea62);if(_0x410600[_0x4b8f6f(0x171)](_0x6a9ae9[_0x4b8f6f(0x119)],0x0))return;const _0x233cc9=[...config[_0x4b8f6f(0x130)],..._0x392c8b['whitelist']||[]],_0xcc7823=_0x410600[_0x4b8f6f(0x17d)](filtrerLiensInterdits,_0x6a9ae9,_0x233cc9);if(_0x410600[_0x4b8f6f(0x110)](_0xcc7823[_0x4b8f6f(0x119)],0x0))return;const _0x51db3b=_0x3de23a[_0x4b8f6f(0x120)]('@')[0x0],_0x3a1f39=await enregistrerTentative(_0x4edc5b,_0x3de23a);_0x410600[_0x4b8f6f(0x17e)](_0x392c8b[_0x4b8f6f(0x178)],![])&&_0x410600['HBjcj'](setTimeout,()=>delete_message(_0x46b09f,_0x3a1519,_0x4edc5b,_0x3a1519[_0x4b8f6f(0x14a)])[_0x4b8f6f(0x12d)](()=>{}),0x3e8),_0x392c8b[_0x4b8f6f(0x164)]!==![]&&await _0x410600[_0x4b8f6f(0x162)](send_text_message,_0x46b09f,_0x3a1519,_0x4b8f6f(0x165)+_0x51db3b+_0x4b8f6f(0x157)+_0x3a1f39+'/'+(_0x392c8b[_0x4b8f6f(0x133)]||0x3)+')',_0x4edc5b,[_0x3de23a],![],!![],![]),_0x410600[_0x4b8f6f(0x12e)](_0x3a1f39,_0x392c8b[_0x4b8f6f(0x133)]||0x3)&&_0x392c8b[_0x4b8f6f(0x141)]&&(await _0x46b09f[_0x4b8f6f(0x172)](_0x4edc5b,[_0x3de23a],_0x410600[_0x4b8f6f(0x17c)])[_0x4b8f6f(0x12d)](()=>{}),await _0x410600[_0x4b8f6f(0x162)](send_text_message,_0x46b09f,_0x3a1519,_0x4b8f6f(0x11c)+_0x51db3b+'\x20expulsé\x20pour\x20liens\x20interdits',_0x4edc5b,[_0x3de23a],![],!![],![]),await _0x410600[_0x4b8f6f(0x11b)](resetTentatives,_0x4edc5b,_0x3de23a));}catch(_0x29ba8b){console['error'](_0x410600['vwUzh'],_0x29ba8b);}};}export async function ajouterGroupeAntilink(_0x28d75d,_0x16fbfb,_0x508a4c,_0x15f96b){const _0x268eb8=a1_0x2eecf6,_0x25966f={'pAvIm':function(_0xd7249b,_0x57127c,_0x48c33e,_0x107960,_0x19c5c3){return _0xd7249b(_0x57127c,_0x48c33e,_0x107960,_0x19c5c3);},'wfqjX':'>\x20⚠️\x20Commande\x20réservée\x20aux\x20groupes','wMloe':function(_0x793c1f,_0x58b7c6,_0x77165d,_0x21a734){return _0x793c1f(_0x58b7c6,_0x77165d,_0x21a734);},'kweMt':function(_0x5b268f,_0x3f589a,_0x3384d2,_0x3327ee,_0x56b8b0){return _0x5b268f(_0x3f589a,_0x3384d2,_0x3327ee,_0x56b8b0);},'jpyXX':_0x268eb8(0x16e),'QvEPM':function(_0x2e353b){return _0x2e353b();},'AvnlK':function(_0x346488,_0x57bd88,_0x37765b,_0x25540c,_0x35101b){return _0x346488(_0x57bd88,_0x37765b,_0x25540c,_0x35101b);},'yReon':function(_0x252cfc,_0x2d2699){return _0x252cfc+_0x2d2699;},'luVfv':function(_0x1661d9,_0x84a5ac){return _0x1661d9+_0x84a5ac;},'TZxgA':function(_0x9bf0f5,_0x4a9ba5){return _0x9bf0f5+_0x4a9ba5;},'jOyON':function(_0x4e8ce8,_0x37435b){return _0x4e8ce8>_0x37435b;},'LTxCh':'Aucune','soujm':function(_0x19238a,_0x3197f9,_0x2f7665,_0x309818,_0x25e9d6){return _0x19238a(_0x3197f9,_0x2f7665,_0x309818,_0x25e9d6);},'JyBkl':_0x268eb8(0x14f)};if(!_0x15f96b)return await _0x25966f[_0x268eb8(0x118)](send_reaction_message,_0x28d75d,_0x16fbfb,_0x508a4c,'❌'),await send_text_message(_0x28d75d,_0x16fbfb,_0x25966f['wfqjX'],_0x508a4c),![];const _0x20849b=_0x16fbfb['key'][_0x268eb8(0x154)];if(!await _0x25966f[_0x268eb8(0x137)](isAdmin,_0x28d75d,_0x508a4c,_0x20849b))return await _0x25966f[_0x268eb8(0x15d)](send_reaction_message,_0x28d75d,_0x16fbfb,_0x508a4c,'❌'),await _0x25966f[_0x268eb8(0x15d)](send_text_message,_0x28d75d,_0x16fbfb,_0x25966f['jpyXX'],_0x508a4c),![];return!config[_0x268eb8(0x174)][_0x508a4c]?(config[_0x268eb8(0x174)][_0x508a4c]={...config[_0x268eb8(0x11a)]},await _0x25966f[_0x268eb8(0x12b)](sauvegarderConfig),await _0x25966f[_0x268eb8(0x112)](send_reaction_message,_0x28d75d,_0x16fbfb,_0x508a4c,'✅'),await _0x25966f['pAvIm'](send_text_message,_0x28d75d,_0x16fbfb,_0x25966f['yReon'](_0x25966f['luVfv'](_0x25966f[_0x268eb8(0x15e)](_0x25966f[_0x268eb8(0x155)](_0x268eb8(0x146),'▸\x20Suppression:\x20'+(config[_0x268eb8(0x11a)]['supprimerMessage']?'✅':'❌')+'\x0a'),'▸\x20Avertissement:\x20'+(config[_0x268eb8(0x11a)][_0x268eb8(0x164)]?'✅':'❌')+'\x0a'),_0x268eb8(0x169)+(config['parametresGlobaux'][_0x268eb8(0x141)]?'✅':'❌')+'\x0a'),_0x268eb8(0x16b)+(_0x25966f[_0x268eb8(0x117)](config[_0x268eb8(0x130)][_0x268eb8(0x119)],0x0)?config[_0x268eb8(0x130)][_0x268eb8(0x143)](',\x20'):_0x25966f[_0x268eb8(0x14b)])),_0x508a4c),!![]):(await _0x25966f[_0x268eb8(0x114)](send_reaction_message,_0x28d75d,_0x16fbfb,_0x508a4c,'ℹ️'),await _0x25966f[_0x268eb8(0x118)](send_text_message,_0x28d75d,_0x16fbfb,_0x25966f[_0x268eb8(0x16f)],_0x508a4c),![]);}export async function supprimerGroupeAntilink(_0xad91cd,_0x12b910,_0x23d1f6,_0x11d770){const _0x5d7a72=a1_0x2eecf6,_0x577991={'QnwMY':function(_0x4e9758,_0x2d24de,_0x17b3ac,_0x1a5a58,_0x2b4f35){return _0x4e9758(_0x2d24de,_0x17b3ac,_0x1a5a58,_0x2b4f35);},'toCRL':_0x5d7a72(0x136),'AdfMP':_0x5d7a72(0x14e),'AhPah':function(_0x1451c5,_0x5c7a2c,_0x221911,_0x4135de,_0x1fab38){return _0x1451c5(_0x5c7a2c,_0x221911,_0x4135de,_0x1fab38);},'SiVOn':function(_0x3eb58d){return _0x3eb58d();},'nNgyL':'>\x20ℹ️\x20Non\x20activé'};if(!_0x11d770)return await send_reaction_message(_0xad91cd,_0x12b910,_0x23d1f6,'❌'),await _0x577991['QnwMY'](send_text_message,_0xad91cd,_0x12b910,_0x577991['toCRL'],_0x23d1f6),![];const _0x331019=_0x12b910[_0x5d7a72(0x14a)][_0x5d7a72(0x154)];if(config['groupesActives'][_0x23d1f6]){const _0x4b67c9=_0x577991[_0x5d7a72(0x13e)][_0x5d7a72(0x120)]('|');let _0x4be3cf=0x0;while(!![]){switch(_0x4b67c9[_0x4be3cf++]){case'0':await _0x577991[_0x5d7a72(0x144)](send_reaction_message,_0xad91cd,_0x12b910,_0x23d1f6,'✅');continue;case'1':await _0x577991[_0x5d7a72(0x158)](sauvegarderConfig);continue;case'2':await _0x577991[_0x5d7a72(0x144)](send_text_message,_0xad91cd,_0x12b910,_0x5d7a72(0x152),_0x23d1f6);continue;case'3':delete config[_0x5d7a72(0x174)][_0x23d1f6];continue;case'4':return!![];}break;}}return await _0x577991['AhPah'](send_reaction_message,_0xad91cd,_0x12b910,_0x23d1f6,'ℹ️'),await _0x577991[_0x5d7a72(0x144)](send_text_message,_0xad91cd,_0x12b910,_0x577991[_0x5d7a72(0x12c)],_0x23d1f6),![];}export async function listerGroupesAntilink(){const _0x596eb8=a1_0x2eecf6,_0x5a128f={'NuTfK':_0x596eb8(0x17a)};return Object[_0x596eb8(0x168)](config[_0x596eb8(0x174)])[_0x596eb8(0x173)](_0xc475c2=>_0xc475c2[_0x596eb8(0x120)]('@')[0x0])[_0x596eb8(0x143)]('\x0a')||_0x5a128f['NuTfK'];}export async function whitelistAntilink(_0x42d8c2,_0x59682f,_0x534b7d,_0x1b7510){const _0x1ce0a8=a1_0x2eecf6,_0x32b3f3={'sRkvK':_0x1ce0a8(0x153),'JrAqx':function(_0x4aab76,_0x4f2348,_0x2de250,_0x43fc54,_0x286cb0){return _0x4aab76(_0x4f2348,_0x2de250,_0x43fc54,_0x286cb0);},'Reqqw':function(_0x539833){return _0x539833();},'hruJR':function(_0x4cff17,_0x364e5f,_0x5e2c8e,_0x44ca03,_0x2c02c6){return _0x4cff17(_0x364e5f,_0x5e2c8e,_0x44ca03,_0x2c02c6);},'xgCUN':function(_0x150465,_0x984a6a,_0x1a6bbc,_0x210ce9,_0x2eb95e){return _0x150465(_0x984a6a,_0x1a6bbc,_0x210ce9,_0x2eb95e);}};if(!config[_0x1ce0a8(0x130)][_0x1ce0a8(0x113)](_0x1b7510)){const _0xa77c48=_0x32b3f3[_0x1ce0a8(0x12f)]['split']('|');let _0x831440=0x0;while(!![]){switch(_0xa77c48[_0x831440++]){case'0':await _0x32b3f3[_0x1ce0a8(0x124)](send_reaction_message,_0x42d8c2,_0x59682f,_0x534b7d,'✅');continue;case'1':await _0x32b3f3['JrAqx'](send_text_message,_0x42d8c2,_0x59682f,_0x1ce0a8(0x122)+_0x1b7510+_0x1ce0a8(0x170),_0x534b7d);continue;case'2':return!![];case'3':await _0x32b3f3[_0x1ce0a8(0x156)](sauvegarderConfig);continue;case'4':config[_0x1ce0a8(0x130)][_0x1ce0a8(0x13d)](_0x1b7510);continue;}break;}}return await _0x32b3f3['hruJR'](send_reaction_message,_0x42d8c2,_0x59682f,_0x534b7d,'ℹ️'),await _0x32b3f3[_0x1ce0a8(0x145)](send_text_message,_0x42d8c2,_0x59682f,_0x1ce0a8(0x126)+_0x1b7510+'\x22\x20déjà\x20autorisé',_0x534b7d),![];}