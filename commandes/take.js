function a32_0x110f(){const _0x5b0b93=['webp','contextInfo','743558TRDxWF','369960iujPOP','message','OBcVg','stanzaId','QbPsm','RIFF','chemin','tEfzO','2RNQyOD','208884fHbqgO','nUvKs','1159000GSZnFE','46674VYrJos','warn','takesticker','CrlcB','ZelXs','Nettoyage\x20√©chou√©:','quotedMessage','>\x20‚ùå\x20Erreur:\x20','√âchec\x20du\x20t√©l√©chargement','\x0a\x20ùëΩùë®ùëµùë∫ùë©ùë∂ùëª\x20À£·¥π·¥∞\x20·¥∫·¥±·µÇ\x20·¥≥·¥±·¥∫·¥±·¥ø·¥¨·µÄ·¥µ·¥º·¥∫','LzYjs','toBuffer','slice','hJHYX','pSoBZ','toFormat','key','mzyqI','gTegD','unlink','sendMessage','√âchec\x20de\x20la\x20modification\x20du\x20sticker:\x20','Erreur\x20lors\x20de\x20la\x20modification\x20:','extendedTextMessage','config','error','VANSBOT','env','KKDlj','Le\x20fichier\x20n\x27est\x20pas\x20un\x20WebP\x20valide\x20et\x20n\x27a\x20pas\x20pu\x20√™tre\x20converti','999165OcjVxN','539238cdhSex','Mon\x20Pack\x20Perso','TsLmC','toString','FUN','length','1864jpuaHK'];a32_0x110f=function(){return _0x5b0b93;};return a32_0x110f();}function a32_0x1e11(_0xd5786a,_0x1b8684){const _0x110f3f=a32_0x110f();return a32_0x1e11=function(_0x1e11e2,_0x45a7e0){_0x1e11e2=_0x1e11e2-0x68;let _0x5e5100=_0x110f3f[_0x1e11e2];return _0x5e5100;},a32_0x1e11(_0xd5786a,_0x1b8684);}const a32_0x311580=a32_0x1e11;(function(_0x522c9b,_0x51db55){const _0x14735e=a32_0x1e11,_0x11ab01=_0x522c9b();while(!![]){try{const _0x294bc9=-parseInt(_0x14735e(0x78))/0x1*(parseInt(_0x14735e(0x6f))/0x2)+-parseInt(_0x14735e(0x9a))/0x3+parseInt(_0x14735e(0x7b))/0x4+-parseInt(_0x14735e(0x70))/0x5+-parseInt(_0x14735e(0x79))/0x6+parseInt(_0x14735e(0x9b))/0x7+-parseInt(_0x14735e(0x6c))/0x8*(-parseInt(_0x14735e(0x7c))/0x9);if(_0x294bc9===_0x51db55)break;else _0x11ab01['push'](_0x11ab01['shift']());}catch(_0x1f6a51){_0x11ab01['push'](_0x11ab01['shift']());}}}(a32_0x110f,0x5f247));import{Sticker,StickerTypes}from'wa-sticker-formatter';import a32_0xcadb6 from'sharp';import a32_0x207e22 from'../utils/download_media.js';import{listerPremierFichierTemporaire}from'../utils/vu_unique.js';import{join}from'path';import a32_0x19542f from'fs/promises';import a32_0x45816d from'dotenv';import{send_reaction_message,send_text_message}from'../utils/sendmessagewa.js';a32_0x45816d[a32_0x311580(0x94)]();const MEDIA_PATH=process[a32_0x311580(0x97)]['MEDIA_PATH'];async function validateWebP(_0x68b54e){const _0x2af87f=a32_0x311580,_0x36bb59={'CrlcB':function(_0x3de58f,_0x54b1ac){return _0x3de58f<_0x54b1ac;},'ZelXs':function(_0x1b728d,_0x385bf3){return _0x1b728d===_0x385bf3;},'QbPsm':_0x2af87f(0x75),'nUvKs':'WEBP'};if(!_0x68b54e||_0x36bb59[_0x2af87f(0x7f)](_0x68b54e[_0x2af87f(0x6b)],0xc))return![];return _0x36bb59[_0x2af87f(0x80)](_0x68b54e[_0x2af87f(0x88)](0x0,0x4)[_0x2af87f(0x69)](),_0x36bb59[_0x2af87f(0x74)])&&_0x36bb59['ZelXs'](_0x68b54e[_0x2af87f(0x88)](0x8,0xc)['toString'](),_0x36bb59[_0x2af87f(0x7a)]);}export async function modifyLocalSticker(_0x3b0583,_0x2df423,_0x961995){const _0x1b9df0=a32_0x311580,_0x18d744={'TsLmC':function(_0xdba722,_0x898366){return _0xdba722(_0x898366);},'qQaII':_0x1b9df0(0x6d),'OBcVg':function(_0x1a7449,_0x17c5a0,_0x1a825f,_0x3163cf){return _0x1a7449(_0x17c5a0,_0x1a825f,_0x3163cf);}};try{const _0x3488d7=await a32_0x19542f['readFile'](_0x3b0583);if(!await _0x18d744[_0x1b9df0(0x68)](validateWebP,_0x3488d7)){const _0x5ca093=await _0x18d744[_0x1b9df0(0x68)](a32_0xcadb6,_0x3488d7)[_0x1b9df0(0x8b)](_0x18d744['qQaII'])[_0x1b9df0(0x87)]();if(!await _0x18d744[_0x1b9df0(0x68)](validateWebP,_0x5ca093))throw new Error(_0x1b9df0(0x99));return await _0x18d744[_0x1b9df0(0x72)](createSticker,_0x5ca093,_0x2df423,_0x961995);}return await createSticker(_0x3488d7,_0x2df423,_0x961995);}catch(_0x548225){console[_0x1b9df0(0x95)](_0x1b9df0(0x92),_0x548225);throw new Error(_0x1b9df0(0x91)+_0x548225[_0x1b9df0(0x71)]);}}async function createSticker(_0x322149,_0x3703d2,_0x6982a){const _0x4ed39d=a32_0x311580,_0x7f1bef={'zDWvB':'Cr√©√©\x20par\x20Mon\x20Bot'},_0xb01af8=new Sticker(_0x322149,{'pack':_0x3703d2||_0x4ed39d(0x9c),'author':_0x6982a||_0x7f1bef['zDWvB'],'type':StickerTypes['FULL'],'quality':0x46,'categories':[_0x4ed39d(0x6a),_0x4ed39d(0x96)]});return _0xb01af8[_0x4ed39d(0x87)]();}export async function handleTakeSticker(_0x2c8b4d,_0x5ce66c,_0x5d0cff,_0x3ecb6d,_0x5a4aa7){const _0x11fc2c=a32_0x311580,_0x1fa86c={'KKDlj':_0x11fc2c(0x85),'LzYjs':function(_0x19e04c,_0x235cff,_0x31a969,_0x1a732b,_0x2dc902){return _0x19e04c(_0x235cff,_0x31a969,_0x1a732b,_0x2dc902);},'hJHYX':function(_0x522588,_0xfa4a13,_0x43f430,_0x14b118){return _0x522588(_0xfa4a13,_0x43f430,_0x14b118);},'tEfzO':_0x11fc2c(0x7e),'gTegD':_0x11fc2c(0x84),'mzyqI':function(_0x15768a,_0x451b3a,_0xbdc015){return _0x15768a(_0x451b3a,_0xbdc015);},'yfnff':function(_0x1624ce,_0x311ba4,_0x130675,_0xd52b6e,_0x3186c8,_0x3eeec9,_0x3e319d,_0x59463f,_0x5dd7eb){return _0x1624ce(_0x311ba4,_0x130675,_0xd52b6e,_0x3186c8,_0x3eeec9,_0x3e319d,_0x59463f,_0x5dd7eb);},'pSoBZ':_0x11fc2c(0x81)};let _0x120acb=null;_0x5a4aa7=_0x1fa86c[_0x11fc2c(0x98)],_0x3ecb6d=_0x5ce66c['pushName'];try{if(!_0x5ce66c?.[_0x11fc2c(0x71)]?.[_0x11fc2c(0x93)]?.[_0x11fc2c(0x6e)])throw new Error('R√©pondez\x20√†\x20un\x20message\x20contenant\x20un\x20sticker');const _0xad09d5={'key':{'remoteJid':_0x5ce66c[_0x11fc2c(0x8c)]['remoteJid'],'id':_0x5ce66c[_0x11fc2c(0x71)][_0x11fc2c(0x93)]['contextInfo'][_0x11fc2c(0x73)],'fromMe':![]},'message':_0x5ce66c['message'][_0x11fc2c(0x93)][_0x11fc2c(0x6e)][_0x11fc2c(0x82)]};await _0x1fa86c[_0x11fc2c(0x86)](send_reaction_message,_0x2c8b4d,_0x5ce66c,_0x5d0cff,'‚öô');const _0x2dd6f0=await _0x1fa86c[_0x11fc2c(0x89)](a32_0x207e22,_0x2c8b4d,_0xad09d5,_0x1fa86c[_0x11fc2c(0x77)]);if(!_0x2dd6f0)throw new Error(_0x1fa86c[_0x11fc2c(0x8e)]);const _0x2d4f6b=await _0x1fa86c[_0x11fc2c(0x8d)](listerPremierFichierTemporaire,MEDIA_PATH,_0x1fa86c[_0x11fc2c(0x77)]);if(!_0x2d4f6b)throw new Error('Aucun\x20m√©dia\x20trouv√©');_0x120acb=join(MEDIA_PATH,_0x2d4f6b[_0x11fc2c(0x76)]);const _0x2d86ee=await _0x1fa86c[_0x11fc2c(0x89)](modifyLocalSticker,_0x120acb,_0x3ecb6d,_0x5a4aa7);await _0x2c8b4d[_0x11fc2c(0x90)](_0x5d0cff,{'sticker':_0x2d86ee}),await _0x1fa86c['LzYjs'](send_reaction_message,_0x2c8b4d,_0x5ce66c,_0x5d0cff,'‚úÖ');}catch(_0x247e0b){console['error']('Erreur\x20dans\x20handleTakeSticker:',_0x247e0b),await _0x1fa86c['yfnff'](send_text_message,_0x2c8b4d,_0x5ce66c,_0x11fc2c(0x83)+_0x247e0b[_0x11fc2c(0x71)],_0x5d0cff,[],!![],![],!![]);}finally{if(_0x120acb)try{await a32_0x19542f[_0x11fc2c(0x8f)](_0x120acb);}catch(_0x48deab){console[_0x11fc2c(0x7d)](_0x1fa86c[_0x11fc2c(0x8a)],_0x48deab);}}}